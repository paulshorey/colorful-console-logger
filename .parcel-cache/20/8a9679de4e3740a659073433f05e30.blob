var e=require("process");const o=(e,s)=>{if(null==e)return e;const r=Array.isArray(e)?[]:{};s.push(e);for(const[t,c]of Object.entries(e))"function"!=typeof c&&(c&&"object"==typeof c?s.includes(e[t])?r[t]="[Circular]":r[t]=o(e[t],s.slice()):r[t]=c);const t=["name","message","stack","code"];for(const o of t)"string"==typeof e[o]&&(r[o]=e[o]);return r};var s=e=>"object"==typeof e?o(e,[]):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e;let r="object"!=typeof window;r&&e.execArgv.join().includes("--inspect")&&(r=!1);var t=function(){let e=[...arguments],t="";if(this.useTrace){let e=[],o=new Error;if(o.stack&&(e=o.stack.split("\n"),e[2])){let o=e[2],s=o.lastIndexOf(":"),r=o.lastIndexOf("/",s-20)+1;t=`(${o.substring(r,s)})`}}let c=!1,l=0;for(;l<e.length;){if(0===l&&"string"==typeof e[l]&&(e.length>l+1?e[l]+=": ":e[l]+=" "),"object"==typeof e[l])if(e[l]instanceof Error){c=!0;try{e[l]=s(e[l]),"object"==typeof e[l]&&(e[l]=s(e[l].stack))}catch(e){}}else e[l]=JSON.parse(JSON.stringify(o(e[l],[])));l++}let n="";"error_message"===this.action&&(e[0]=n=e[0]&&"string"==typeof e[0]?e[0].split("\n").slice(0,2).map((e=>e.replace(/\/.+\//g,""))).toString():"error",this.action="error");let a=this.action,i="",u="";if(this.useColor&&"string"==typeof e[0])if(r)switch(this.action){case"error":i="[41m[33m%s[0m";break;case"warn":i="[43m[30m%s[0m";break;case"info":i="[46m[30m%s[0m";break;case"debug":i="[45m[30m%s[0m";break;case"trace":i="[106m[30m%s[0m";break;case"success":i="[42m[30m%s[0m",this.action="log";break;case"subtle":i="[40m[90m%s[0m",this.action="log"}else switch(a){case"error":e[0]="%c"+e[0],e.splice(1,0,"background:red; color:yellow");break;case"warn":e[0]="%c"+e[0],e.splice(1,0,"background:yellow; color:black");break;case"info":e[0]="%c"+e[0],e.splice(1,0,"background:teal; color:black");break;case"debug":e[0]="%c"+e[0],e.splice(1,0,"background:magenta; color:black");break;case"trace":e[0]="%c"+e[0],e.splice(1,0,"background:cyan; color:black");break;case"success":e[0]="%c"+e[0],e.splice(1,0,"background:lawngreen; color:black");break;case"subtle":e[0]="%c"+e[0],e.splice(1,0,"color:grey")}switch(a){case"success":case"subtle":a="log"}if(a+this.action!==this.sharedContext.last_action&&console.log(""),e=i?t?[i,...e,t,u]:[i,...e,u]:t?[...e,t]:[...e],console[a](...e),this.logToCloud&&this.logToCloud(...arguments,t),this.sharedContext.last_action=a+this.action,n)return n};exports.default=function(e){let{logToCloud:o={},useTrace:s=!0,useColor:r=!1}=e,c={},l={log:t.bind({action:"log",useTrace:s,useColor:r,logToCloud:o.log,sharedContext:c}),info:t.bind({action:"info",useTrace:s,useColor:r,logToCloud:o.info,sharedContext:c}),debug:t.bind({action:"debug",useTrace:s,useColor:r,logToCloud:o.debug,sharedContext:c}),warn:t.bind({action:"warn",useTrace:s,useColor:r,logToCloud:o.warn,sharedContext:c}),error_message:t.bind({action:"error_message",useTrace:s,useColor:r,logToCloud:o.error,sharedContext:c}),error:t.bind({action:"error",useTrace:s,useColor:r,logToCloud:o.error,sharedContext:c}),table:t.bind({action:"table",useTrace:s,useColor:r,logToCloud:o.table,sharedContext:c}),trace:t.bind({action:"trace",useTrace:s,useColor:r,logToCloud:o.trace,sharedContext:c}),success:t.bind({action:"success",useTrace:s,useColor:r,logToCloud:o.success,sharedContext:c}),subtle:t.bind({action:"subtle",useTrace:s,useColor:r,logToCloud:o.subtle,sharedContext:c}),clear:console.clear,time:console.time,timeEnd:console.timeEnd,timeLog:console.timeLog,assert:console.assert,count:console.count,countReset:console.countReset,dir:console.dir,dirxml:console.dirxml,group:console.group,groupCollapsed:console.groupCollapsed,groupEnd:console.groupEnd};return console.profile&&(l.profile=console.profile),console.profileEnd&&(l.profileEnd=console.profileEnd),console.timeStamp&&(l.timeStamp=console.timeStamp),l};
//# sourceMappingURL=index.js.map
